<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
</head>
<body>
<h1>Konami Code</h1>


<script src="js/jquery.js"></script>

<script>

    // walkthrough
    //
    // var keys = [];
    // var konamiKeys = [38,38,40,40,37,39,37,39,66,65];
    //
    // $(document).keyup(function(event) {
    //
    //         //add the new key to the end of the array
    //
    //         keys.push(event.keyCode);
    //
    //         // only keep the last 10 key strokes
    //
    //         keys = keys.slice(-10);
    //         console.log(keys);
    //
    //         //compare konamiKeys to the keys entered
    //         console.log(keys.join('') + ' ' + konamiKeys.join(''));
    //
    //         if (keys.join('') === konamiKeys.join('')) {
    //
    //             alert('its-a-me mario!');
    //             document.body.style.backgroundImage = "url('imgs/mario.jpg')";
    //         }
    //     });

    $(document).ready(function () {

        $(document).keyup(function (event) {
            console.log(event.keyCode);
        });

            var allowedKeys = {
                // 13:'enter',
                37: 'left',
                38: 'up',
                39: 'right',
                40: 'down',
                65: 'a',
                66: 'b'
            };

            var konamiCode = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a'];

            var konamiCodePosition = 0;

            $(document).keydown(function(event){

                var key = allowedKeys[event.keyCode];
                var requiredKey = konamiCode[konamiCodePosition];

                if (key === requiredKey) {

                    konamiCodePosition++;

                    if (konamiCodePosition === konamiCode.length) {
                        activateCheats();
                        konamiCodePosition = 0;
                    }
                } else {
                    konamiCodePosition = 0;
                }
            });

        function activateCheats() {
            alert("its-a me, MARIO");
            document.body.style.backgroundImage = "url('imgs/mario.jpg')";

            $(document).click(function(e){
                alert("AND IM LUIGI!");
                document.body.style.backgroundImage = "url('imgs/luigi.png')";
            });

            $(document).keydown(function(e){
                alert("HEY IM THE REAL LUIGI!");
                document.body.style.backgroundImage = "url('imgs/real_luigi.jpeg')";
            });
        }
    });

</script>
</body>
</html>